<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Nexus v22.7 - Apex Sovereign</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root { --accent: #06b6d4; --bg: #020617; }
        body { background: var(--bg); color: white; margin: 0; font-family: 'Inter', sans-serif; overflow-x: hidden; -webkit-tap-highlight-color: transparent; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.08); }
        
        /* BLOQUEIO ALPHA COM CHECKOUT (V22.6) */
        #alpha-lock { position: fixed; inset: 0; background: var(--bg); z-index: 20000; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 24px; }
        .price-tag { background: linear-gradient(45deg, #06b6d4, #0891b2); color: #020617; padding: 4px 14px; border-radius: 100px; font-size: 10px; font-weight: 900; margin-bottom: 12px; animation: pulse 2s infinite; }

        /* SCANNER ANIMATION (V22.5) */
        .scanning::after { content: ""; position: absolute; top: -100%; left: 0; width: 100%; height: 100%; background: linear-gradient(to bottom, transparent, var(--accent), transparent); opacity: 0.15; animation: scan 2s infinite; }
        @keyframes scan { 0% { top: -100%; } 100% { top: 100%; } }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }

        /* CHAT ADVISOR */
        #chat-widget { position: fixed; bottom: 110px; right: 20px; z-index: 4000; }
        #chat-window { position: fixed; bottom: 100px; right: 20px; width: 340px; height: 500px; border-radius: 2.5rem; display: none; flex-direction: column; z-index: 4001; animation: fadeInUp 0.3s ease; overflow: hidden; }
        #chat-messages { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 12px; }
        .msg { padding: 12px 16px; border-radius: 1.2rem; font-size: 11px; max-width: 85%; line-height: 1.5; }
        .msg-ia { background: rgba(6, 182, 212, 0.05); border: 1px solid rgba(6, 182, 212, 0.2); align-self: flex-start; }
        .msg-user { background: #06b6d4; color: #020617; font-weight: 800; align-self: flex-end; }
        .planilha-box { background: rgba(0,0,0,0.4); border: 1px solid rgba(6, 182, 212, 0.3); padding: 12px; border-radius: 15px; margin-top: 8px; font-family: monospace; font-size: 10px; color: #22d3ee; }

        #toast { position: fixed; top: -100px; left: 50%; transform: translateX(-50%); padding: 12px 24px; border-radius: 100px; font-size: 10px; font-weight: 900; z-index: 30001; transition: 0.5s; }
        .toast-active { top: 30px !important; }
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeInUp 0.4s ease-out; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        .nav-active { color: #06b6d4 !important; filter: drop-shadow(0 0 8px #06b6d4); }
        #splash-screen { position: fixed; inset: 0; background: var(--bg); z-index: 10000; display: flex; flex-direction: column; align-items: center; justify-content: center; transition: 0.5s cubic-bezier(0.77, 0, 0.175, 1); }
        .hide-splash { transform: translateY(-100%); pointer-events: none; }
    </style>
</head>
<body class="pb-32">

    <div id="toast" class="bg-cyan-500 text-slate-950 shadow-lg uppercase tracking-widest">Acesso Alpha</div>

    <div id="alpha-lock" class="hidden text-center">
        <div class="price-tag uppercase">Membro Fundador: R$ 5,00</div>
        <div class="w-24 h-24 bg-cyan-500/10 rounded-[2.5rem] flex items-center justify-center mb-8 border border-cyan-500/20 mx-auto text-4xl shadow-2xl">üîê</div>
        
        <h2 class="text-3xl font-black uppercase mb-2 tracking-tighter text-white">Nexus Alpha</h2>
        <p class="text-[10px] text-slate-500 uppercase tracking-[0.3em] mb-10 italic">Apex Sovereign v22.7</p>
        
        <div class="glass p-6 rounded-[2.5rem] w-full max-w-xs mx-auto mb-6 border border-white/5">
            <input type="text" id="alpha-key" placeholder="CHAVE DE ACESSO" class="w-full bg-transparent text-center text-xl font-black outline-none text-white uppercase placeholder:text-slate-900">
        </div>
        
        <button onclick="verificarChave()" class="w-full max-w-xs bg-slate-100 text-slate-950 py-6 rounded-3xl font-black text-[11px] uppercase shadow-2xl active:scale-95 transition-all mb-8">Autenticar Sistema</button>
        
        <div class="h-[1px] w-32 bg-white/10 mx-auto mb-8"></div>

        <a href="https://wa.me/5511994025686?text=Quero+minha+chave+Alpha+do+Nexus" class="w-full max-w-xs bg-cyan-600 py-5 rounded-2xl font-black text-[11px] uppercase shadow-xl shadow-cyan-900/40 block text-center mb-4">Adquirir Chave Alpha</a>
        <p class="text-[8px] text-slate-600 uppercase tracking-widest">Libera√ß√£o imediata via WhatsApp</p>
    </div>

    <div id="chat-widget">
        <button onclick="toggleChat()" class="w-16 h-16 bg-cyan-500 rounded-2xl shadow-2xl flex items-center justify-center text-3xl">üß†</button>
    </div>

    <div id="chat-window" class="glass border border-white/10 flex flex-col shadow-2xl">
        <div class="p-5 border-b border-white/5 flex justify-between items-center bg-cyan-500/5">
            <div class="flex items-center gap-2">
                <div class="w-2 h-2 bg-emerald-500 rounded-full animate-pulse"></div>
                <span class="text-[10px] font-black uppercase tracking-widest text-cyan-500">Nexus Advisor v22.7</span>
            </div>
            <button onclick="toggleChat()" class="text-slate-500 text-xl">‚úï</button>
        </div>
        <div id="chat-messages">
            <div class="msg msg-ia">Sauda√ß√µes, Fundador. Sou sua Intelig√™ncia Neural. <br><br>Sincronize sua <b>"Dieta"</b> ou seu <b>"Treino"</b> baseado em seu biotipo agora.</div>
        </div>
        <div class="p-4 bg-slate-950 border-t border-white/5 flex gap-2">
            <input id="chat-input" type="text" placeholder="Comando neural..." class="flex-1 bg-white/5 p-4 rounded-2xl text-xs outline-none border border-white/10 text-white" onkeypress="if(event.key==='Enter') enviarMensagemChat()">
            <button onclick="enviarMensagemChat()" class="bg-cyan-500 px-5 rounded-2xl text-xl">‚û§</button>
        </div>
    </div>

    <div id="splash-screen">
        <div class="glass w-24 h-24 rounded-[2.5rem] flex items-center justify-center border border-cyan-500/30">
            <span class="text-4xl font-black text-cyan-500 italic">N</span>
        </div>
    </div>

    <header class="p-6 flex justify-between items-center sticky top-0 z-50 bg-slate-950/80 backdrop-blur-xl border-b border-white/5">
        <div class="flex items-center gap-4">
            <div onclick="abrirAdmin()" class="w-12 h-12 bg-cyan-500 rounded-2xl flex items-center justify-center font-black text-slate-950 shadow-lg">N</div>
            <div>
                <h1 class="text-[11px] font-black uppercase tracking-widest text-white">Nexus Sovereign</h1>
                <p id="nexus-id-display" class="text-[8px] text-slate-500 font-mono italic">ID: NX-LOAD-F</p>
            </div>
        </div>
        <div class="text-right">
            <p id="xp-display" class="text-xs font-black">0 XP</p>
            <div class="w-16 h-1 bg-white/10 rounded-full mt-1 overflow-hidden"><div id="xp-bar" class="h-full bg-cyan-500 transition-all duration-700 w-0"></div></div>
        </div>
    </header>

    <main class="max-w-md mx-auto p-6 space-y-8">
        <div id="dash" class="tab-content active space-y-6">
            <div id="bio-card" class="glass p-8 rounded-[3rem] shadow-2xl relative overflow-hidden">
                <div class="grid grid-cols-2 gap-4 mb-8">
                    <div class="bg-slate-900/60 p-4 rounded-2xl border border-white/5 text-center">
                        <label class="text-[9px] font-black text-slate-500 uppercase italic tracking-tighter">Peso (kg)</label>
                        <input id="u-weight" type="number" step="0.1" class="bg-transparent w-full text-2xl font-black outline-none text-white text-center mt-1">
                    </div>
                    <div class="bg-slate-900/60 p-4 rounded-2xl border border-white/5 text-center">
                        <label class="text-[9px] font-black text-slate-500 uppercase italic tracking-tighter">Meta</label>
                        <select id="u-meta" onchange="setMeta(this.value)" class="bg-transparent w-full text-[10px] font-black outline-none text-white uppercase mt-2">
                            <option value="Bulking">Bulking</option>
                            <option value="Cutting">Cutting</option>
                        </select>
                    </div>
                </div>
                <button onclick="gerarProtocolo()" class="w-full bg-cyan-600 py-6 rounded-[2rem] font-black text-xs uppercase shadow-xl active:scale-95 transition-all">Sincronizar Protocolo</button>
            </div>
            <div id="leaderboard" class="space-y-3"></div>
        </div>

        <div id="treinos" class="tab-content space-y-4 pb-20"><div id="lista-exercicios"></div></div>

        <div id="hub" class="tab-content pb-20">
            <div class="glass p-6 rounded-[2.5rem] space-y-4">
                <textarea id="msg-input" placeholder="Relate o progresso..." class="w-full bg-white/5 p-6 rounded-[2rem] text-sm outline-none border border-white/10 h-32 text-white"></textarea>
                <button onclick="postar()" class="w-full bg-purple-600 py-5 rounded-2xl font-black text-[10px] uppercase">Enviar ao Hub</button>
                <div id="feed" class="mt-8 space-y-4"></div>
            </div>
        </div>
    </main>

    <nav class="fixed bottom-6 left-1/2 -translate-x-1/2 w-[92%] h-20 glass rounded-[2.5rem] z-50 flex items-center justify-around shadow-2xl border border-white/5">
        <button onclick="nav(event, 'dash')" class="nav-active flex flex-col items-center gap-1.5"><span class="text-2xl">üë§</span><span class="text-[8px] font-black uppercase">Bio</span></button>
        <button onclick="nav(event, 'treinos')" class="text-slate-500 flex flex-col items-center gap-1.5"><span class="text-2xl">üí™</span><span class="text-[8px] font-black uppercase">A√ß√£o</span></button>
        <button onclick="nav(event, 'hub')" class="text-slate-500 flex flex-col items-center gap-1.5"><span class="text-2xl">üåç</span><span class="text-[8px] font-black uppercase">Hub</span></button>
    </nav>

    <script>
        const CHAVE_CORRETA = "Nexus2026"; 
        let db;

        function init() {
            const data = localStorage.getItem('Nexus_Apex_v22_7');
            db = data ? JSON.parse(data) : { xp: 0, unlocked: false, weight: '70', meta: 'Bulking', nexusId: 'NX-'+Math.floor(1000+Math.random()*9000)+'-F' };
        }

        function save() { localStorage.setItem('Nexus_Apex_v22_7', JSON.stringify(db)); }

        function showToast(m, c="#06b6d4") {
            const t = document.getElementById('toast');
            t.innerText = m; t.style.background = c;
            t.classList.add('toast-active');
            setTimeout(() => t.classList.remove('toast-active'), 2500);
        }

        window.addEventListener('load', () => {
            init();
            if(!db.unlocked) {
                document.getElementById('alpha-lock').classList.remove('hidden');
                document.getElementById('splash-screen').classList.add('hide-splash');
            } else {
                startApp();
            }
        });

        function verificarChave() {
            if(document.getElementById('alpha-key').value === CHAVE_CORRETA) {
                db.unlocked = true; save();
                showToast("Sincroniza√ß√£o Completa!", "#10b981");
                setTimeout(() => location.reload(), 800);
            } else {
                showToast("Chave Inv√°lida", "#ef4444");
            }
        }

        function startApp() {
            document.getElementById('u-weight').value = db.weight;
            document.getElementById('u-meta').value = db.meta;
            document.getElementById('nexus-id-display').innerText = `ID: ${db.nexusId}`;
            atualizarUI();
            setTimeout(() => document.getElementById('splash-screen').classList.add('hide-splash'), 400);
        }

        function atualizarUI() {
            document.getElementById('xp-display').innerText = `${db.xp.toLocaleString()} XP`;
            document.getElementById('xp-bar').style.width = Math.min((db.xp % 10000) / 100, 100) + "%";
            renderRank();
        }

        function toggleChat() {
            const win = document.getElementById('chat-window');
            win.style.display = win.style.display === 'flex' ? 'none' : 'flex';
        }

        function enviarMensagemChat() {
            const input = document.getElementById('chat-input');
            const msg = input.value.trim().toLowerCase();
            if(!msg) return;
            addMsg(input.value, 'user');
            input.value = '';

            setTimeout(() => {
                const p = parseFloat(db.weight) || 70;
                let resp = "";
                if(msg.includes("dieta") || msg.includes("comer")) {
                    resp = `<b>Planilha Nutricional:</b><div class="planilha-box">PROT: ${Math.round(p*2.2)}g<br>CARB: ${Math.round(p*4)}g<br>KCAL: ${Math.round(p*36)}<br><br>Sugest√£o: 150g Frango + 200g Arroz</div>`;
                } else if(msg.includes("treino")) {
                    resp = `<b>Planilha de Treino Alpha:</b><div class="planilha-box">A: Peito e Tr√≠ceps<br>B: Costas e B√≠ceps<br>C: Pernas e Abdomen<br><br>Foco: Cargas progressivas</div>`;
                } else {
                    resp = "Comando neural recebido. Posso processar sua <b>'Dieta'</b> ou <b>'Treino'</b> agora.";
                }
                addMsg(resp, 'ia');
            }, 700);
        }

        function addMsg(txt, type) {
            const box = document.getElementById('chat-messages');
            const div = document.createElement('div');
            div.className = `msg msg-${type}`;
            div.innerHTML = txt;
            box.appendChild(div);
            box.scrollTop = box.scrollHeight;
        }

        function gerarProtocolo() {
            const card = document.getElementById('bio-card');
            card.classList.add('scanning');
            showToast("Scanner Neural Ativado...");
            setTimeout(() => {
                card.classList.remove('scanning');
                const list = document.getElementById('lista-exercicios');
                list.innerHTML = `<h3 class='text-cyan-500 font-black text-[10px] uppercase mb-6 italic tracking-widest'>Treino Priorit√°rio</h3>`;
                [{n:'Supino Alpha', s:'4x10'}, {n:'Agachamento v22.7', s:'4x12'}].forEach(ex => {
                    list.innerHTML += `<div class='glass p-6 rounded-[2.5rem] flex justify-between items-center mb-4 border-l-2 border-cyan-500'><div><p class='text-white text-xs font-black'>${ex.n}</p><p class='text-[9px] text-slate-500 font-bold uppercase'>${ex.s}</p></div><button onclick="addXP(this, 500)" class='w-14 h-14 bg-cyan-500 rounded-2xl shadow-lg'>‚ö°</button></div>`;
                });
                nav(null, 'treinos');
            }, 1500);
        }

        function addXP(btn, v) { 
            db.xp += v; save(); atualizarUI(); btn.disabled = true; btn.innerText = 'üèÜ';
            showToast(`+${v} XP`);
        }

        function postar() {
            const i = document.getElementById('msg-input');
            if(!i.value) return;
            document.getElementById('feed').innerHTML = `<div class='glass p-5 rounded-3xl text-xs border-l-2 border-purple-500 mb-4'><p class='font-black text-purple-400 text-[8px]'>${db.nexusId}</p>${i.value}</div>` + document.getElementById('feed').innerHTML;
            i.value = ''; showToast("Postado no Global!");
        }

        function nav(e, tab) {
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            document.getElementById(tab).classList.add('active');
            if(e) {
                document.querySelectorAll('nav button').forEach(b => b.classList.replace('nav-active', 'text-slate-500'));
                e.currentTarget.classList.add('nav-active');
            }
        }

        function renderRank() {
            const r = [{n:'Sovereign', x:500000}, {n:'Voc√™', x:db.xp}].sort((a,b)=>b.x-a.x);
            document.getElementById('leaderboard').innerHTML = `<p class='text-[8px] font-black uppercase text-slate-700 mb-2 tracking-[0.2em]'>Rank Global Fundadores</p>` + r.map((u,i)=>`<div class='bg-white/5 p-4 rounded-2xl flex justify-between text-[10px] font-black uppercase border border-white/5'><span>#${i+1} ${u.n}</span><span class='text-cyan-400'>${u.x.toLocaleString()} XP</span></div>`).join('');
        }

        function setMeta(m) { db.meta = m; save(); showToast(`Foco: ${m}`); }
        function abrirAdmin() { if(prompt("Pass:") === "1710") document.getElementById('admin-panel').classList.remove('hidden'); }
        document.getElementById('u-weight').onchange = (e) => { db.weight = e.target.value; save(); };
    </script>
</body>
</html>
