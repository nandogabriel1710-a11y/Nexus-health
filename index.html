<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexus AI - Smart Performance Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .premium-gradient { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); }
        .nexus-dark { background-color: #020617; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.05); }
        .active-tab { border-bottom: 4px solid #06b6d4; color: #06b6d4; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        @keyframes pulse-cyan { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .loading-dot { animation: pulse-cyan 1.5s infinite; }
    </style>
</head>
<body class="nexus-dark text-slate-100 font-sans pb-28">

    <header class="p-4 flex justify-between items-center border-b border-white/5 sticky top-0 z-50 bg-slate-900/90 backdrop-blur-md">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-cyan-500 rounded-xl flex items-center justify-center font-black text-slate-900 shadow-lg shadow-cyan-500/20">N</div>
            <div>
                <h1 class="text-xs font-black uppercase tracking-widest">Nexus <span id="user-tier" class="text-cyan-500 italic">Basic</span></h1>
                <p id="xp-val" class="text-[9px] text-slate-500 font-bold uppercase">XP: 0</p>
            </div>
        </div>
        <button id="btn-upgrade" onclick="abrirModal()" class="premium-gradient text-[9px] font-black px-4 py-2 rounded-full text-white shadow-lg">UPGRADE PRO</button>
    </header>

    <nav class="flex justify-around bg-slate-900/50 border-b border-white/5 sticky top-[73px] z-40 backdrop-blur-md">
        <button onclick="openTab(event, 'dash')" class="tab-link p-4 font-bold text-[10px] uppercase active-tab">Dashboard</button>
        <button onclick="openTab(event, 'treinos')" class="tab-link p-4 font-bold text-[10px] uppercase">Agenda AI</button>
        <button onclick="openTab(event, 'pro-features')" class="tab-link p-4 font-bold text-[10px] uppercase text-orange-400">NutriÃ§Ã£o ðŸ’Ž</button>
    </nav>

    <main class="max-w-md mx-auto p-4 space-y-6">

        <div id="dash" class="tab-content active space-y-6">
            <section class="glass p-6 rounded-[2.5rem] border-t-2 border-cyan-500">
                <div class="flex items-start gap-4 mb-4">
                    <img src="https://image.pollinations.ai/prompt/nexus%20ai%20avatar%20cyan%20robot?width=100&height=100" class="w-14 h-14 rounded-2xl border border-cyan-500/30">
                    <div>
                        <h3 class="text-[10px] font-black uppercase text-cyan-400">Nexus Core Intelligence</h3>
                        <p id="ai-msg" class="text-[11px] text-slate-400 mt-1 italic">"Sistemas operacionais. Escolha seu nÃ­vel de performance e sincronize sua agenda."</p>
                    </div>
                </div>
                
                <div class="grid grid-cols-3 gap-2 mb-6">
                    <button onclick="setLevel('Iniciante')" id="l-Iniciante" class="bg-slate-800 p-3 rounded-xl text-[9px] font-black uppercase border border-white/5 transition-all">Iniciante</button>
                    <button onclick="setLevel('IntermediÃ¡rio')" id="l-IntermediÃ¡rio" class="bg-slate-800 p-3 rounded-xl text-[9px] font-black uppercase border border-white/5 transition-all">Pro</button>
                    <button onclick="checkElite()" id="l-Elite" class="bg-slate-800 p-3 rounded-xl text-[9px] font-black uppercase border border-white/5 transition-all text-orange-400 italic">Elite ðŸ”’</button>
                </div>

                <button onclick="gerarAgenda()" class="w-full bg-cyan-600 py-4 rounded-2xl font-black text-xs uppercase shadow-xl hover:bg-cyan-500 transition-all">Sincronizar Protocolo</button>
            </section>
        </div>

        <div id="treinos" class="tab-content space-y-4">
            <h2 class="text-sm font-black uppercase tracking-[0.2em] text-cyan-500">Agenda Gerada</h2>
            <div id="agenda-area" class="space-y-4 pb-10">
                <p class="text-[11px] text-slate-600 text-center py-10 italic italic">Aguardando comando de sincronizaÃ§Ã£o no Dashboard...</p>
            </div>
        </div>

        <div id="pro-features" class="tab-content">
            <section class="glass p-10 rounded-[3rem] text-center border-2 border-orange-500/20">
                <span class="text-4xl">ðŸ’Ž</span>
                <h2 class="text-xl font-black mt-4 uppercase">Nexus NutriÃ§Ã£o</h2>
                <p class="text-xs text-slate-400 mt-2 mb-6">CÃ¡lculo de macros dinÃ¢mico e plano alimentar por IA disponÃ­vel apenas na versÃ£o Pro.</p>
                <button onclick="abrirModal()" class="premium-gradient px-8 py-4 rounded-2xl font-black text-xs uppercase">Desbloquear Agora</button>
            </section>
        </div>

    </main>

    <div id="modal-payment" class="fixed inset-0 bg-black/95 z-[100] hidden items-center justify-center p-4 backdrop-blur-md">
        <div class="bg-slate-900 p-8 rounded-[3rem] w-full max-w-sm border border-white/10 shadow-2xl overflow-y-auto max-h-[90vh]">
            
            <div id="step-offer" class="space-y-6">
                <div class="text-center">
                    <h2 class="text-2xl font-black text-white uppercase italic">Nexus Pro</h2>
                    <p class="text-slate-400 text-[9px] uppercase tracking-widest mt-1">Acesso VitalÃ­cio</p>
                </div>
                <div class="bg-white/5 p-5 rounded-3xl space-y-3 text-[11px] font-bold">
                    <p>âœ… NÃ­vel Elite Desbloqueado</p>
                    <p>âœ… Planner de Dieta IA</p>
                    <p>âœ… +XP por Atividade</p>
                </div>
                <div class="text-center">
                    <p class="text-3xl font-black text-white leading-none">R$ 19,90</p>
                </div>
                <button onclick="irParaPagamento()" class="w-full premium-gradient py-5 rounded-2xl font-black text-xs uppercase shadow-xl text-white">Pagar via Pix</button>
                <button onclick="fecharModal()" class="w-full text-[10px] text-slate-600 font-bold uppercase">Agora nÃ£o</button>
            </div>

            <div id="step-checkout" class="hidden space-y-6">
                <div class="text-center text-cyan-400 font-black uppercase text-sm">Escaneie o QR Code</div>
                <div class="flex justify-center bg-white p-3 rounded-3xl">
                    <img id="qr-image" src="" class="w-40 h-40">
                </div>
                <div class="bg-slate-950 p-4 rounded-2xl border border-cyan-500/30">
                    <p class="text-[8px] text-slate-500 uppercase font-black mb-1">Copia e Cola:</p>
                    <p id="pix-string" class="text-[8px] text-cyan-500 break-all font-mono font-bold leading-tight"></p>
                </div>
                <button onclick="copiarPix()" id="btn-copy" class="w-full bg-slate-800 text-white py-4 rounded-xl font-black text-[10px] uppercase italic">Copiar CÃ³digo</button>
                <button onclick="enviarComprovante()" class="w-full bg-green-600 text-white py-4 rounded-2xl font-black text-xs uppercase shadow-lg">Enviar Comprovante (WhatsApp)</button>
            </div>
        </div>
    </div>

    <script>
        // CONFIGURAÃ‡Ã•ES DO SÃ“CIO
        const CHAVE_PIX = "Nandogabriel.1710@gmail.com";
        const WHATSAPP = "5511950272502"; 
        const NOME = "Fernando Gabriel";

        let db = JSON.parse(localStorage.getItem('Nexus_Final_DB')) || {
            xp: 0, isPro: false, level: 'Iniciante'
        };

        function salvar() { localStorage.setItem('Nexus_Final_DB', JSON.stringify(db)); }

        function openTab(evt, tabName) {
            let content = document.getElementsByClassName("tab-content");
            for (let i = 0; i < content.length; i++) content[i].classList.remove("active");
            let links = document.getElementsByClassName("tab-link");
            for (let i = 0; i < links.length; i++) links[i].classList.remove("active-tab");
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active-tab");
        }

        function setLevel(lvl) {
            db.level = lvl;
            document.querySelectorAll('[id^="l-"]').forEach(b => b.classList.remove('bg-cyan-600', 'text-slate-950'));
            document.getElementById('l-' + lvl).classList.add('bg-cyan-600', 'text-slate-950');
            salvar();
        }

        function checkElite() {
            if(!db.isPro) { abrirModal(); } 
            else { setLevel('Elite'); }
        }

        function gerarAgenda() {
            const area = document.getElementById('agenda-area');
            const data = {
                'Iniciante': [{t: 'Push Day A', e: 'FlexÃµes 3x10, Agachamento 3x12', x: 50}],
                'IntermediÃ¡rio': [{t: 'Strength B', e: 'Supino 4x10, Leg Press 4x12', x: 100}],
                'Elite': [{t: 'Elite Hell C', e: 'Bi-set Supino + FlexÃ£o 5x15, Stiff 5x12', x: 250}]
            };

            area.innerHTML = data[db.level].map(tr => `
                <div class="glass p-6 rounded-[2.5rem] border-l-4 border-cyan-500">
                    <h3 class="font-black text-xs text-white uppercase">${tr.t}</h3>
                    <p class="text-[11px] text-slate-400 mt-2 italic">${tr.e}</p>
                    <button onclick="ganharXP(${tr.x})" class="mt-4 w-full py-3 bg-slate-800 rounded-xl text-[10px] font-black uppercase">Concluir Protocolo (+${tr.x} XP)</button>
                </div>
            `).join('');
            
            document.getElementById('ai-msg').innerText = "Protocolos sincronizados com sucesso.";
            openTab({currentTarget: document.querySelector('button[onclick*="treinos"]')}, 'treinos');
        }

        function ganharXP(v) { db.xp += v; atualizarUI(); salvar(); alert("MissÃ£o cumprida! +" + v + " XP"); }

        function atualizarUI() {
            document.getElementById('xp-val').innerText = "XP: " + db.xp;
            if(db.isPro) {
                document.getElementById('user-tier').innerText = "PRO ðŸ‘‘";
                document.getElementById('btn-upgrade').style.display = 'none';
                document.getElementById('l-Elite').innerText = "Elite";
                document.getElementById('l-Elite').classList.remove('text-orange-400');
            }
        }

        // FUNÃ‡Ã•ES PIX
        function abrirModal() { document.getElementById('modal-payment').style.display = 'flex'; }
        function fecharModal() { document.getElementById('modal-payment').style.display = 'none'; }
        
        function irParaPagamento() {
            const pixStr = `00020126360014br.gov.bcb.pix01${CHAVE_PIX.length}${CHAVE_PIX}520400005303986540519.905802BR59${NOME.length}${NOME}6009SAO PAULO62070503***6304`;
            document.getElementById('pix-string').innerText = pixStr;
            document.getElementById('qr-image').src = `https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=${encodeURIComponent(pixStr)}`;
            document.getElementById('step-offer').classList.add('hidden');
            document.getElementById('step-checkout').classList.remove('hidden');
        }

        function copiarPix() {
            navigator.clipboard.writeText(document.getElementById('pix-string').innerText);
            document.getElementById('btn-copy').innerText = "Copiado! âœ…";
        }

        function enviarComprovante() { +5511994025686
            const msg = encodeURIComponent("OlÃ¡ Fernando! Acabei de fazer o Pix para o Nexus Pro. Segue o comprovante para ativaÃ§Ã£o!");
            window.open(`https://wa.me/${WHATSAPP}?text=${msg}`, '_blank');
        }

        window.onload = () => { atualizarUI(); setLevel(db.level); };
    </script>
</body>
</html>
