<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexus AI 5.0 - Intelligence & Performance</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .active-tab { border-bottom: 4px solid #06b6d4; color: #06b6d4; }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .progress-bar { transition: width 1s ease-in-out; }
    </style>
</head>
<body class="bg-slate-900 text-slate-100 font-sans pb-24">

    <header class="p-6 flex justify-between items-center bg-slate-900/50 backdrop-blur-md sticky top-0 z-50">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-cyan-500 rounded-xl flex items-center justify-center font-black text-slate-900 shadow-lg shadow-cyan-500/20">N</div>
            <h1 class="text-xl font-bold tracking-tighter uppercase">Nexus <span class="text-cyan-400">AI</span></h1>
        </div>
        <div class="text-right">
            <p id="xp-texto" class="text-[10px] font-bold text-cyan-400">LVL 1 ‚Ä¢ 0 XP</p>
        </div>
    </header>

    <nav class="flex justify-around bg-slate-800/50 border-b border-slate-700 mb-6 sticky top-[80px] z-40 backdrop-blur-md">
        <button onclick="openTab(event, 'dash')" class="tab-link p-4 font-black text-xs uppercase active-tab">In√≠cio</button>
        <button onclick="openTab(event, 'treinos')" class="tab-link p-4 font-black text-xs uppercase">Agenda AI</button>
        <button onclick="openTab(event, 'stats')" class="tab-link p-4 font-black text-xs uppercase">Evolu√ß√£o</button>
    </nav>

    <main class="max-w-md mx-auto px-4">

        <div id="dash" class="tab-content active space-y-6">
            <section class="bg-slate-800 p-6 rounded-[2rem] border border-slate-700 shadow-xl">
                <div class="flex justify-between items-end mb-4">
                    <h2 class="text-xs font-black uppercase text-slate-400">Meta Di√°ria</h2>
                    <span id="perc-texto" class="text-2xl font-black text-cyan-400 italic">0%</span>
                </div>
                <div class="w-full bg-slate-700 rounded-full h-3 overflow-hidden">
                    <div id="barra-progresso" class="progress-bar bg-cyan-500 h-full w-0"></div>
                </div>
                <div class="grid grid-cols-3 gap-4 mt-6">
                    <div class="text-center"><span id="m-prot" class="block font-bold">0g</span><span class="text-[8px] text-slate-500 uppercase">Prot</span></div>
                    <div class="text-center"><span id="m-carb" class="block font-bold">0g</span><span class="text-[8px] text-slate-500 uppercase">Carb</span></div>
                    <div class="text-center"><span id="m-gord" class="block font-bold">0g</span><span class="text-[8px] text-slate-500 uppercase">Gord</span></div>
                </div>
            </section>

            <section class="bg-gradient-to-br from-cyan-600 to-blue-700 p-6 rounded-[2rem] shadow-2xl relative overflow-hidden">
                <div class="flex items-start gap-4">
                    <img src="https://image.pollinations.ai/prompt/nexus%20ai%20robot%20head%20cyan%20neon?width=80&height=80" class="w-14 h-14 rounded-full border-2 border-white/20">
                    <div>
                        <h3 class="font-black text-xs uppercase mb-1">Nexus System</h3>
                        <p id="ai-msg" class="text-[11px] leading-snug opacity-90">"Aguardando diretrizes. Clique abaixo para gerar sua agenda personalizada."</p>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-2 mt-4">
                    <button onclick="gerarAgenda()" class="bg-white text-slate-900 py-3 rounded-xl font-black text-[10px] uppercase shadow-lg">Gerar Agenda</button>
                    <button onclick="adicionarAgua()" class="bg-cyan-900/50 text-white py-3 rounded-xl font-black text-[10px] uppercase border border-cyan-400/30">+ √Ågua</button>
                </div>
            </section>
        </div>

        <div id="treinos" class="tab-content space-y-4">
            <h2 class="text-xl font-black uppercase italic tracking-tighter">Cronograma Gerado</h2>
            <div id="agenda-container" class="space-y-4">
                <p class="text-slate-500 text-center py-10 italic">Nenhuma agenda ativa. Use o bot√£o "Gerar Agenda" na aba In√≠cio.</p>
            </div>
        </div>

        <div id="stats" class="tab-content space-y-4">
            <section class="bg-slate-800 p-6 rounded-[2rem]">
                <h2 class="font-black text-xs uppercase mb-4 text-slate-400 tracking-widest">Peso e Hist√≥rico</h2>
                <div class="flex gap-2 mb-4">
                    <input type="number" id="in-peso" class="flex-1 bg-slate-900 border border-slate-700 p-3 rounded-xl outline-none" placeholder="kg">
                    <button onclick="regPeso()" class="bg-cyan-500 text-slate-900 px-6 rounded-xl font-black">OK</button>
                </div>
                <div id="hist-peso" class="flex gap-3 overflow-x-auto pb-2 scrollbar-hide"></div>
            </section>
        </div>

    </main>

    <footer class="fixed bottom-6 left-0 w-full px-6">
        <button onclick="compartilhar()" class="w-full bg-cyan-500 text-slate-900 py-4 rounded-2xl font-black uppercase tracking-[0.2em] shadow-2xl active:scale-95 transition">Exportar Report Nexus</button>
    </footer>

    <script>
        let db = JSON.parse(localStorage.getItem('Nexus_5_Data')) || {
            xp: 0, kcal: 0, prot: 0, carb: 0, gord: 0, agua: 0, hist: [], metaKcal: 2000
        };

        function salvar() { localStorage.setItem('Nexus_5_Data', JSON.stringify(db)); }

        function openTab(evt, tabName) {
            let content = document.getElementsByClassName("tab-content");
            for (let i = 0; i < content.length; i++) content[i].classList.remove("active");
            let links = document.getElementsByClassName("tab-link");
            for (let i = 0; i < links.length; i++) links[i].classList.remove("active-tab");
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active-tab");
        }

        function gerarAgenda() {
            const container = document.getElementById('agenda-container');
            const dias = ['Hoje (A)', 'Amanh√£ (B)', 'Depois (C)'];
            const treinos = [
                {t: 'Peito e Tr√≠ceps', e: ['Supino: 3x12', 'Flex√£o: 3x Max', 'Tr√≠ceps Banco: 3x15']},
                {t: 'Costas e B√≠ceps', e: ['Puxada: 3x12', 'Remada: 3x12', 'Rosca Direta: 3x10']},
                {t: 'Pernas e ABS', e: ['Agachamento: 4x12', 'Passada: 3x10', 'Prancha: 3x 1min']}
            ];

            container.innerHTML = dias.map((dia, i) => `
                <div class="bg-slate-800 p-5 rounded-2xl border-l-4 border-cyan-500 shadow-lg">
                    <h3 class="font-black text-cyan-400 text-sm uppercase mb-3">${dia} - ${treinos[i].t}</h3>
                    <ul class="space-y-2">
                        ${treinos[i].e.map(ex => `<li class="text-[11px] text-slate-300 flex items-center gap-2"><span class="w-1.5 h-1.5 bg-slate-600 rounded-full"></span> ${ex}</li>`).join('')}
                    </ul>
                    <button onclick="concluirTreino()" class="mt-4 w-full py-2 bg-slate-700 hover:bg-cyan-900/40 rounded-lg text-[10px] font-bold uppercase transition">Concluir Miss√£o</button>
                </div>
            `).join('');

            document.getElementById('ai-msg').innerText = "Agenda de 72h sincronizada. Foque na execu√ß√£o dos movimentos.";
            db.xp += 20; atualizarUI();
        }

        function atualizarUI() {
            document.getElementById('m-prot').innerText = db.prot + 'g';
            document.getElementById('m-carb').innerText = db.carb + 'g';
            document.getElementById('m-gord').innerText = db.gord + 'g';
            let perc = Math.min(Math.round((db.kcal / db.metaKcal) * 100), 100);
            document.getElementById('barra-progresso').style.width = perc + "%";
            document.getElementById('perc-texto').innerText = perc + "%";
            document.getElementById('xp-texto').innerText = `LVL ${Math.floor(db.xp/100)+1} ‚Ä¢ ${db.xp} XP`;
            
            document.getElementById('hist-peso').innerHTML = db.hist.map(p => `
                <div class="bg-slate-900 p-3 rounded-xl border border-slate-700 min-w-[70px] text-center">
                    <span class="text-[8px] block text-slate-500 uppercase">${p.data}</span>
                    <span class="font-black text-xs text-cyan-400">${p.valor}kg</span>
                </div>
            `).reverse().join('');
        }

        function concluirTreino() { db.xp += 50; db.kcal += 300; db.prot += 10; atualizarUI(); salvar(); alert("Treino registrado! +50 XP"); }
        function adicionarAgua() { db.agua++; db.xp += 5; atualizarUI(); salvar(); }
        function regPeso() {
            let v = document.getElementById('in-peso').value;
            if(v > 20) {
                db.hist.push({valor: v, data: new Date().toLocaleDateString('pt-BR', {day:'2-digit', month:'2-digit'})});
                db.xp += 30; document.getElementById('in-peso').value = '';
                atualizarUI(); salvar();
            }
        }

        function compartilhar() {
            const msg = `‚ö° *NEXUS AI 5.0 REPORT* %0AüèÜ XP: ${db.xp}%0Aüìä Meta: ${document.getElementById('perc-texto').innerText} do dia conclu√≠da!`;
            window.open(`https://api.whatsapp.com/send?text=${msg}`, '_blank');
        }

        window.onload = atualizarUI;
    </script>
</body>
</html>
